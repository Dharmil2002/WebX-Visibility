<!-- <app-common-wrapper-webxpress [breadscrums]="breadScrums">
    <form [formGroup]="chequeRegisterForm">
        <app-form-webxpress [form]="chequeRegisterForm" [FormTitle]="'Cheque Register Report'"
            [formData]="jsonControlArray" (functionCallEmitter)="functionCallHandler($event)"
            (callFunction)="functionCallHandler($event)" [showSaveButton]="true" [submit]="'Download'">
        </app-form-webxpress>
    </form>
</app-common-wrapper-webxpress> -->

<!-- [
  {
    $match: {
      eNTDT: {
        $gte: new Date(
          "2024-04-01T04:13:03.470Z"
        ),
        $lte: new Date(
          "2024-04-20T04:13:03.470Z"
        ),
      },
      eNTLOC: "MUMB",
      bILNGPRT: {
        $in: ["DTDC", "A A K PARTNERS LLC"],
      },
    },
  },
  {
    $lookup: {
      from: "delivery_mr_details",
      localField: "docNo",
      foreignField: "dLMRNO",
      as: "details",
    },
  },
  {
    $lookup: {
      from: "docket_ops_det_ltl",
      localField: "docNo",
      foreignField: "dLMRNO",
      as: "docketDetails",
    },
  },
  {
    $project: {
      _id: 0,
      // Exclude the _id field
      MRNo: {
        $ifNull: ["$docNo", ""],
      },
      MRDate: {
        $ifNull: ["$eNTDT", ""],
      },
      MRTime: {
        $ifNull: ["$eNTDT", ""],
      },
      MRType: "Delivery MR",
      MRLocation: {
        $ifNull: ["$eNTLOC", ""],
      },
      PartyName: {
        $ifNull: ["$bILNGPRT", ""],
      },
      MRAmount: {
        $ifNull: ["$dLVRMRAMT", ""],
      },
      TDS: {
        $ifNull: ["$tDSAmt", ""],
      },
      GSTAmount: {
        $ifNull: ["$gSTAMT", ""],
      },
      FreightRebate: {
        $ifNull: ["$FreightRebate", 0],
      },
      CLAIM: {
        $ifNull: ["$CLAIM", ""],
      },
      OtherDeduction: {
        $ifNull: ["$OtherDeduction", ""],
      },
      NetMRCloseAmt: {
        $ifNull: ["$cLLCTAMT", ""],
      },
      MRCloseDate: {
        $ifNull: ["$eNTDT", ""],
      },
      MRCloseBy: {
        $ifNull: ["$eNTBY", ""],
      },
      PayMode: {
        $ifNull: ["$mOD", ""],
      },
      ChequeNo: {
        $ifNull: ["$cHQNo", ""],
      },
      ChequeDate: {
        $ifNull: ["$cHQDT", ""],
      },
      ChequeAmount: {
        $ifNull: ["$cLLCTAMT", ""],
      },
      CancelledBy: "",
      // Add your logic here
      CancelledOn: "",
      // Add your logic here
      CancelledReason: "",
      // Add your logic here
      GatePassNo: {
        $ifNull: ["$docNo", ""],
      },
      GCNNo: {
        $reduce: {
          input: "$gCNNO",
          initialValue: "",
          in: {
            $concat: [
              "$$value",
              {
                $cond: [
                  {
                    $eq: ["$$value", ""],
                  },
                  "",
                  ", ",
                ],
              },
              "$$this",
            ],
          },
        },
      },
      BillNo: "",
      Origin: {
        $arrayElemAt: ["$docketDetails.oRGN", 0], // Extracts the first element from the array
      },
      Destination: {
        $arrayElemAt: ["$docketDetails.dEST", 0],
      },
      BasicFreight: {
        $ifNull: ["$docketDetails[0].dEST", ""],
      },
      SubTotal: {
        $ifNull: ["$docketDetails[0].dEST", ""],
      },
      DocketTotal: {
        $ifNull: ["$docketDetails[0].dEST", ""],
      },
      ActualWeight: {
        $sum: {
          $map: {
            input: "$docketDetails",
            as: "totalaCTWT",
            in: "$$totalaCTWT.aCTWT",
          },
        },
      },
      ChargedWeight: {
        $sum: {
          $map: {
            input: "$docketDetails",
            as: "totalcHRWT",
            in: "$$totalcHRWT.cHRWT",
          },
        },
      },
      NoPkg: {
        $sum: {
          $map: {
            input: "$docketDetails",
            as: "totalPKG",
            in: "$$totalPKG.pKGS",
          },
        },
      },
      GodownNoName: "  ",
      DeliveryDateandTime: {
        $ifNull: ["$eNTDT", ""],
      },
      PrivateMarka: "",
      VehicleNo: {
        $arrayElemAt: ["$docketDetails.vEHNO", 0],
      },
      Status: "Delivered",
      SaidToContains: {
        $ifNull: [
          "$docketDetails[0].sAIDTOCONTAIN",
          "",
        ],
      },
      Receiver: {
        $ifNull: ["$rCEIVNM", ""],
      },
      ReceiverNo: {
        $ifNull: ["$cNTCTNO", ""],
      },
      Remark: " ",
      details: "$details",
    },
  },
]; -->